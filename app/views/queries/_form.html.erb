<style>
textarea {

  max-width: 70%;
  width: 50%;
}
</style>
<div class="box-header with-border" style="text-align:center">
  <div class="box-title">
    <h3>New Query</h3>
  </div>
</div>  
<div class="box-body" style="text-align:center">
<%= form_for :query, :url => {:controller => "queries", :action => "create"} do |f| %>
  <% if @query.errors.any? %>
    <div id="form-group has-error">
      <h4><%= pluralize(@query.errors.count, "error") %> prohibited this query from being saved:</h2>

      <ul id = "form-group has-error">
      <% @query.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <div class="form-group">
    <%= f.label "Query" %><br>
    <%= f.text_area :query_cmd, class: "form-control", rows: "3", style:"margin:auto", id: 'textarea1' %>
  </div>
  <div class ="form-group" >
    <%= f.collection_select( :database_id, @databases, :id, :name, {:class=>'form-control'}) %>
  </div>
  <div class="actions">
    <%= f.submit 'Submit', class: "btn btn-primary" %>
  </div>
<% end %>
</div>


<script>
$(function ()
{
    $(document).on("keydown", "#textarea1", function(e)
    {
        if ((e.keyCode == 10 || e.keyCode == 13) && e.ctrlKey)
        {
            this.form.submit();
        }
    });
});
</script>

